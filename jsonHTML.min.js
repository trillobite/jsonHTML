function $jConstruct(t,n){return sig(t,n)}var micronDB=function(){return{db:[],hashTraverse:function(t,n){if(this.db[t]){for(var e=0;e<this.db[t].length;++e){var r=n(this.db[t][e]);if(r)return r}return!1}return!1},calcIndex:function(t){for(var n=0,e=0;e<t.length;++e)n+=t.charCodeAt(e);return n%50},exists:function(t){var n=this.calcIndex(t);return this.hashTraverse(n,function(n){return n.id==t?!0:void 0})},hash:function(t){if(this.exists(t))return!1;var n=this.calcIndex(t.id);return this.db[n]?(this.db[n][this.db[n].length]=t,!0):(this.db[n]=[],this.db[n][this.db[n].length]=t,!0)},get:function(t){var n=this.calcIndex(t);return this.hashTraverse(n,function(n){return n.id==t?n:void 0})},remove:function(t){var n=this.calcIndex(t);if(this.db[n])for(var e=0;e<this.db[n].length;++e)if(this.db[n][e])return delete this.db[n][e]},match:{where:function(t,n){for(var e in n)if("undefined"!=typeof t[e])if("function"==typeof t[e]){if(t[e](n[e])===!0)return n}else if(n[e]==t[e])return n;return!1}},traverse:function(t,n,e){var r=function(t,e){for(var i=[],o=0;o<e.length;++o)if(Array.isArray(e[o])){var a=r(t,e[o]);a.length>0&&(Array.isArray(a)&&a.length<2?i[i.length]=a[0]:i[i.length]=a)}else n(t,e[o])&&(i[i.length]=n(t,e[o]));return i},i=[],o=0,a=function(t,n,e,a){"undefined"!=typeof e[a]&&"number"!=typeof a&&(o?i.length>0&&(i=r(t,i)):i=r(t,n)),++o},d=function(t,n,e,o){if("undefined"!=typeof e[o]&&"number"!=typeof o){var a=r(t,n);if(i.length>0)for(var d=function(t,n){for(var e=0;e<n.length;++e)if(n[e]==t)return!0;return!1},s=0;s<a.length;++s)d(a[s],i)||(i[i.length]=a[s]);else i=r(t,n)}};for(var s in t){"$and"==s&&(o=0);var f={};if(f[s]=t[s],"$or"==s||"$and"==s)for(var h in f[s]){var u={};u[h]=f[s][h],"$or"==s?d(u,e,f[s],h):a(u,e,f[s],h)}else a(f,e,t,s)}return i},insert:function(t){this.hash(t)},query:function(t){var n;for(var e in t)"undefined"!=typeof this.match[e]&&(n=void 0===n?this.traverse(t[e],this.match[e],this.db):this.traverse(t[e],this.match[e],n));return n}}},arrdb=new micronDB,idCache=new micronDB,sig=function(t,n){function e(t,n,r){var a=new $.Deferred,d=function(){r=r?r:"append",t="function"==typeof t?t():t,t.id=void 0===t.id?i():t.id,t.parent=t.parent?t.parent:n;var d=arrdb.get(t.id);if(d?d.append=r:arrdb.hash(t),$(n)[r](o(t.type)(t)),void 0!==t.children)for(var s=0;s<t.children.length;++s)e(t.children[s],"#"+t.id);if(void 0!==t.functions)for(var s=0;s<t.functions.length;++s)t.functions[s]();a.resolve()};return d(),a.promise()}var r=0,i=function(){var t=16,n=function(){for(var n="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=0;t>r;++r)n+=e.charAt(Math.floor(Math.random()*e.length));return n},e=function(e){for(var i=62*Math.pow(t,2);idCache.exists(e)&&i>r;)++r,e=n();return idCache.exists(e)?console.log("ERROR: Collision in micronDB hash detected."):r&&console.log("WARNING: hash collision detected and fixed!"),r=0,idCache.hash({id:e}),e};return e(n())},o=function(t){var n=function(t){return["text","textbox","password","checkbox","radio","file","image","submit"].indexOf(t)>-1},e=function(e){var r="";for(var i in e){var o=i.toString();"string"==typeof e[i]&&("type"==i&&n(t)||"text"!=i)&&(r+=" "+o+'="'+e[i]+'"')}return r},r={generic:function(t){var n={start:"<"+t.type,end:t.text?">"+t.text+"</"+t.type+">":"></"+t.type+">"};return n.start+e(t)+n.end},input:function(t){var n={start:"<input",end:t.text?' value="'+t.text+'"></input>':"></input>"};return n.start+e(t)+n.end},html:function(t){return t.data}};return n(t)?r.input:r[t]?r[t]:r.generic},a={basicPropInsrt:function(t,n){t.addChild=function(t){return this.children[this.children.length]=t,this},t.addFunction=function(t){return this.functions[this.functions.length]=t,this},t.appendTo=function(t,n){var r=new $.Deferred,i="object"==typeof t?"#"+t.id:t;return this.state=e(this,i,n).done(function(){r.resolve()}),this},t.event=function(n,e){var r="#"+this.id;return $(r)[0]?e?$(r)[n](e):$(r)[n]():e?t.addFunction(function(){$(r)[n](e)}):t.addFunction(function(){$(r)[n]()}),this},t.css=function(t){var n="#"+this.id,e=$(n);if(e[0]){if(!t)return e[0].style;e.css(t)}else{if(!t)return e[0].style;this.addFunction(function(){$(n).css(t)})}return this},t.remove=function(){var t=this.id,n=document.getElementById(t);if(n){for(;n.firstChild;)n.removeChild(n.firstChild);$("#"+t).remove()}else console.log(t,"object does not exist, or has already been removed");return this},t.refresh=function(n){var e=new $.Deferred;if(t.parent.length>0){t.remove();n?n:arrdb.get(t.id).append;t.appendTo(t.parent,n).state.done(function(){e.resolve()})}else e.reject("Error: Parent of the object not defined. Was it rendered to the DOM yet?");return this.state=e,this}},propertyAdd:function(t,n){for(var e in n)t[e]=n[e];return this}};return function(){var e={type:void 0!==t?t:"div",children:[],functions:[]};return n&&a.propertyAdd(e,n),void 0===e.id&&(e.id=i()),a.basicPropInsrt(e,n),e}()},toadFish={};toadFish.create2DArray=function(t){for(var n=[],e=0;t>e;++e)n[e]=[];return n},toadFish.structure=function(t,n){for(var e=$jConstruct("div",{collectionName:n}).css({clear:"left","float":"left",display:"block"}),r=0;r<t.length;++r){var i=$jConstruct("div");t[r].length?i.css({"float":"left"}):i.addChild(t[r]);for(var o=0;o<t[r].length;++o)i.addChild(t[r][o]);e.addChild(i)}return e.getCell=function(t,n){return e.children[n].children[t]},e};
/*  View full license in README.md
             )
c            (
o        )   )
p        (           v1.3.1
y    .---------------------.
r    |        _____        |___      
i    |     .'`_,-._`'.      __ \
g    |    /  ( [ ] )  \    |  ||
h    |   /.-""`( )`""-.\   |  ||
t    |  ' <'```(.)```'> '  | _||
     |    <'```(.)```'>    |/ _/
2    |     <'``(.)``'>      ./
0    |      <``\_/``>      |
1    |       `'---'`       |
6    \github.com/trillobite/              
       \_________________/      Keep it black, keep it free.*/