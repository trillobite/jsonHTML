function $jConstruct(t,n){return sig(t,n)}var micronDB=function(){return{db:[],hashTraverse:function(t,n){if(this.db[t]){for(var r=0;r<this.db[t].length;++r){var e=n(this.db[t][r]);if(e)return e}return!1}return!1},calcIndex:function(t){if(t){for(var n=0,r=0;r<t.length;++r)n+=t.charCodeAt(r);return n%50}return-1},exists:function(t){var n=this.calcIndex(t);return this.hashTraverse(n,function(n){return n.id==t})},makeID:function(){var t=new micronDB,n=0,r=8,e=function(){for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=0;r>e;++e)t+=n.charAt(Math.floor(Math.random()*n.length));return t},i=function(i){var o=function(){for(var o=62*Math.pow(r,2);t.exists(i)&&o>n;)++n,i=e()};return o(),t.exists(i)&&(r=Math.round(r/2+r),o()),i};return i(e())},hash:function(t){if(t.id=void 0===t.id?this.makeID():t.id,this.exists(t.id))return!1;var n=this.calcIndex(t.id);return this.db[n]?(this.db[n][this.db[n].length]=t,!0):(this.db[n]=[],this.db[n][this.db[n].length]=t,!0)},get:function(t){var n=this.calcIndex(t);return this.hashTraverse(n,function(n){return n.id==t?n:void 0})},remove:function(t){var n=this.calcIndex(t);if(this.db[n])for(var r=0;r<this.db[n].length;++r)if(this.db[n][r])return delete this.db[n][r]},match:{where:function(t,n){for(var r in n)if("undefined"!=typeof t[r])if("function"==typeof t[r]){if(t[r](n[r])===!0)return n}else if(n[r]==t[r])return n;return!1}},traverse:function(t,n,r){var e=function(t,r){for(var i=[],o=0;o<r.length;++o)if(Array.isArray(r[o])){var a=e(t,r[o]);a.length>0&&(Array.isArray(a)&&a.length<2?i[i.length]=a[0]:i[i.length]=a)}else n(t,r[o])&&(i[i.length]=n(t,r[o]));return i},i=[],o=0,a=function(t,n,r,a){"undefined"!=typeof r[a]&&"number"!=typeof a&&(o?i.length>0&&(i=e(t,i)):i=e(t,n)),++o},d=function(t,n,r,o){if("undefined"!=typeof r[o]&&"number"!=typeof o){var a=e(t,n);if(i.length>0)for(var d=function(t,n){for(var r=0;r<n.length;++r)if(n[r]==t)return!0;return!1},s=0;s<a.length;++s)d(a[s],i)||(i[i.length]=a[s]);else i=e(t,n)}};for(var s in t){"$and"==s&&(o=0);var f={};if(f[s]=t[s],"$or"==s||"$and"==s)for(var u in f[s]){var h={};h[u]=f[s][u],"$or"==s?d(h,r,f[s],u):a(h,r,f[s],u)}else a(f,r,t,s)}return i},insert:function(t){this.hash(t)},query:function(t){var n;for(var r in t)"undefined"!=typeof this.match[r]&&(n=void 0===n?this.traverse(t[r],this.match[r],this.db):this.traverse(t[r],this.match[r],n));return n}}},arrdb=new micronDB,sig=function(t,n){function r(t,n,i){var o=new $.Deferred,a=function(){i=i?i:"append",t="function"==typeof t?t():t,t.id=void 0===t.id?arrdb.makeID():t.id,t.parent=t.parent?t.parent:n;var a=arrdb.get(t.id);if(a?a.append=i:arrdb.hash(t),$(n)[i](e(t.type)(t)),void 0!==t.children)for(var d=0;d<t.children.length;++d)r(t.children[d],"#"+t.id);if(void 0!==t.functions)for(var d=0;d<t.functions.length;++d)t.functions[d]();o.resolve()};return a(),o.promise()}var e=function(t){var n=function(t){return["text","textbox","password","checkbox","radio","file","image","submit"].indexOf(t)>-1},r=function(r){var e="";for(var i in r){var o=i.toString();"string"==typeof r[i]&&("type"==i&&n(t)||"text"!=i)&&(e+=" "+o+'="'+r[i]+'"')}return e},e={generic:function(t){var n={start:"<"+t.type,end:t.text?">"+t.text+"</"+t.type+">":"></"+t.type+">"};return n.start+r(t)+n.end},input:function(t){var n={start:"<input",end:t.text?' value="'+t.text+'"></input>':"></input>"};return n.start+r(t)+n.end},html:function(t){return t.data}};return n(t)?e.input:e[t]?e[t]:e.generic},i={basicPropInsrt:function(t,n){t.addChild=function(t){return this.children[this.children.length]=t,this},t.addFunction=function(t){return this.functions[this.functions.length]=t,this},t.appendTo=function(t,n){var e=new $.Deferred,i="object"==typeof t?"#"+t.id:t;return this.state=r(this,i,n).done(function(){e.resolve()}),this},t.event=function(n,r){var e="#"+this.id;return $(e)[0]?r?$(e)[n](r):$(e)[n]():r?t.addFunction(function(){$(e)[n](r)}):t.addFunction(function(){$(e)[n]()}),this},t.css=function(t){var n="#"+this.id,r=$(n);if(r[0]){if(!t)return r[0].style;r.css(t)}else{if(!t)return r[0].style;this.addFunction(function(){$(n).css(t)})}return this},t.remove=function(){var t=this.id,n=document.getElementById(t);if(n){for(;n.firstChild;)n.removeChild(n.firstChild);$("#"+t).remove()}else console.log(t,"object does not exist, or has already been removed");return this},t.refresh=function(n){var r=new $.Deferred;if(t.parent.length>0){t.remove();n?n:arrdb.get(t.id).append;t.appendTo(t.parent,n).state.done(function(){r.resolve()})}else r.reject("Error: Parent of the object not defined. Was it rendered to the DOM yet?");return this.state=r,this}},propertyAdd:function(t,n){for(var r in n)t[r]=n[r];return this}};return function(){var r={type:void 0!==t?t:"div",children:[],functions:[]};return n&&i.propertyAdd(r,n),void 0===r.id&&(r.id=arrdb.makeID()),i.basicPropInsrt(r,n),r}()},toadFish={};toadFish.create2DArray=function(t){for(var n=[],r=0;t>r;++r)n[r]=[];return n},toadFish.structure=function(t,n){for(var r=$jConstruct("div",{collectionName:n}).css({clear:"left","float":"left",display:"block"}),e=0;e<t.length;++e){var i=$jConstruct("div");t[e].length?i.css({"float":"left"}):i.addChild(t[e]);for(var o=0;o<t[e].length;++o)i.addChild(t[e][o]);r.addChild(i)}return r.getCell=function(t,n){return r.children[n].children[t]},r};
/*  View full license in README.md
             )
c            (
o        )   )
p        (           v1.3.1
y    .---------------------.
r    |        _____        |___      
i    |     .'`_,-._`'.      __ \
g    |    /  ( [ ] )  \    |  ||
h    |   /.-""`( )`""-.\   |  ||
t    |  ' <'```(.)```'> '  | _||
     |    <'```(.)```'>    |/ _/
2    |     <'``(.)``'>      ./
0    |      <``\_/``>      |
1    |       `'---'`       |
6    \github.com/trillobite/              
       \_________________/      Keep it black, keep it free.*/