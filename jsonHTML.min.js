function appendHTML(t,e,n){var r=new $.Deferred,i=function(){"function"==typeof t&&(t=t()),void 0===t.id&&(t.id=makeID()),arrdb.exists(t.id)?arrdb.get(t.id).append=n:arrdb.hash(t),t.parent=e,n?$(e)[n](parsetype(t.type)(t)):$(e).append(parsetype(t.type)(t)),void 0!==t.children&&$.each(t.children,function(){appendHTML(this,"#"+t.id)}),void 0!==t.functions&&$.each(t.functions,function(){this()}),r.resolve()};return i(),r.promise()}function $jConstruct(t,e){var n={type:void 0!==t?t:"div",children:[],functions:[]};return e&&jConstructObjectManipulations.dynamicPropertiesAdd(n,e),void 0===n.id&&(n.id=makeID()),jConstructObjectManipulations.basicPropertiesInsert(n,e),n}var micronDB=function(){return{db:[],hashTraverse:function(t,e){if(this.db[t]){for(var n=0;n<this.db[t].length;++n){var r=e(this.db[t][n]);if(r)return r}return!1}return!1},calcIndex:function(t){for(var e=0,n=0;n<t.length;++n)e+=t.charCodeAt(n);return e%50},exists:function(t){var e=this.calcIndex(t);return this.hashTraverse(e,function(e){return e.id==t?!0:void 0})},hash:function(t){if(this.exists(t))return!1;var e=this.calcIndex(t.id);return this.db[e]?(this.db[e][this.db[e].length]=t,!0):(this.db[e]=[],this.db[e][this.db[e].length]=t,!0)},get:function(t){var e=this.calcIndex(t);return this.hashTraverse(e,function(e){return e.id==t?e:void 0})},remove:function(t){var e=this.calcIndex(t);if(this.db[e])for(var n=0;n<this.db[e].length;++n)if(this.db[e][n])return delete this.db[e][n]},match:{where:function(t,e){for(var n in e)if("undefined"!=typeof t[n])if("function"==typeof t[n]){if(t[n](e[n])===!0)return e}else if(e[n]==t[n])return e;return!1}},traverse:function(t,e,n){var r=function(t,n){for(var i=[],o=0;o<n.length;++o)if(Array.isArray(n[o])){var s=r(t,n[o]);s.length>0&&(Array.isArray(s)&&s.length<2?i[i.length]=s[0]:i[i.length]=s)}else e(t,n[o])&&(i[i.length]=e(t,n[o]));return i},i=[],o=0,s=function(t,e,n,s){"undefined"!=typeof n[s]&&"number"!=typeof s&&(o?i.length>0&&(i=r(t,i)):i=r(t,e)),++o},a=function(t,e,n,o){if("undefined"!=typeof n[o]&&"number"!=typeof o){var s=r(t,e);if(i.length>0)for(var a=function(t,e){for(var n=0;n<e.length;++n)if(e[n]==t)return!0;return!1},d=0;d<s.length;++d)a(s[d],i)||(i[i.length]=s[d]);else i=r(t,e)}};for(var d in t){"$and"==d&&(o=0);var u={};if(u[d]=t[d],"$or"==d||"$and"==d)for(var c in u[d]){var f={};f[c]=u[d][c],"$or"==d?a(f,n,u[d],c):s(f,n,u[d],c)}else s(u,n,t,d)}return i},insert:function(t){this.hash(t)},query:function(t){var e;for(var n in t)"undefined"!=typeof this.match[n]&&(e=void 0===e?this.traverse(t[n],this.match[n],this.db):this.traverse(t[n],this.match[n],e));return e}}},arrdb=new micronDB,makeID=function(){for(var t="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;12>n;n++)t+=e.charAt(Math.floor(Math.random()*e.length));return t},parsetype=function(t){function e(t){var e="";for(var n in t){var r=n.toString();"string"==typeof t[n]&&"text"!=n&&"type"!=n&&(e+=" "+r+'="'+t[n]+'"')}return e}var n={generic:function(t){var n={start:"<"+t.type,end:void 0!==t.text?">"+t.text+"</"+t.type+">":"></"+t.type+">"};return n.start+e(t)+n.end},html:function(t){return t.data}};return void 0!==n[t]?n[t]:n.generic},jConstructObjectManipulations={basicPropertiesInsert:function(t,e){t.addChild=function(t){return this.children[this.children.length]=t,this},t.addFunction=function(t){return this.functions[this.functions.length]=t,this},t.appendTo=function(t,e){var n,r=new $.Deferred;return n="object"==typeof t?"#"+t.id:t,appendHTML(this,n,e).done(function(){r.resolve()}),this.state=r,this},t.event=function(e,n){var r="#"+this.id;return $(r)[0]?n?$(r)[e](n):$(r)[e]():n?t.addFunction(function(){$(r)[e](n)}):t.addFunction(function(){$(r)[e]()}),this},t.css=function(t){var e="#"+this.id;if($(e)[0]){if(!t)return $(e)[0].style;$(e).css(t)}else{if(!t)return $(e)[0].style;this.addFunction(function(){$(e).css(t)})}return this},t.remove=function(){var t=this.id,e=document.getElementById(t);if(e){for(;e.firstChild;)e.removeChild(e.firstChild);$("#"+t).remove()}else console.log(t,"object does not exist, or has already been removed");return this},t.refresh=function(e){var n=new $.Deferred;if(t.parent.length>0){t.remove();e?e:arrdb.get(t.id).append;t.appendTo(t.parent,e).state.done(function(){n.resolve()})}else n.reject("Error: Parent of the object not defined. Was it rendered to the DOM yet?");return this.state=n,this}},dynamicPropertiesAdd:function(t,e){for(var n in e)t[n]=e[n];return this}},make=function(t,e){return t?$jConstruct(t,e):{input:function(t,e){return e?e.type=t:e={type:t},$jConstruct("input",e)}}},toadFish={};toadFish.create2DArray=function(t){for(var e=[],n=0;t>n;++n)e[n]=[];return e},toadFish.structure=function(t,e){for(var n=$jConstruct("div",{collectionName:e}).css({clear:"left","float":"left",display:"block"}),r=0;r<t.length;++r){var i=$jConstruct("div");t[r].length?i.css({"float":"left"}):i.addChild(t[r]);for(var o=0;o<t[r].length;++o)i.addChild(t[r][o]);n.addChild(i)}return n.getCell=function(t,e){return n.children[e].children[t]},n};
/*  View full license in README.md
             )
c            (
o        )   )
p        (           v1.3.1
y    .---------------------.
r    |        _____        |___      
i    |     .'`_,-._`'.      __ \
g    |    /  ( [ ] )  \    |  ||
h    |   /.-""`( )`""-.\   |  ||
t    |  ' <'```(.)```'> '  | _||
     |    <'```(.)```'>    |/ _/
2    |     <'``(.)``'>      ./
0    |      <``\_/``>      |
1    |       `'---'`       |
6    \github.com/trillobite/              
       \_________________/      Keep it black, keep it free.*/