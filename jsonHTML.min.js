function $jConstruct(t,n){return sig(t,n)}var micronDB=function(){return{db:[],hashTraverse:function(t,n){if(this.db[t]){for(var e=0;e<this.db[t].length;++e){var r=n(this.db[t][e]);if(r)return r}return!1}return!1},calcIndex:function(t){if(t){for(var n=0,e=0;e<t.length;++e)n+=t.charCodeAt(e);return n%50}return-1},exists:function(t){var n=this.calcIndex(t);return this.hashTraverse(n,function(n){return n.id==t})},makeID:function(){var t=new micronDB,n=0,e=8,r=function(){for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=0;e>r;++r)t+=n.charAt(Math.floor(Math.random()*n.length));return t},i=function(i){var o=function(){for(var o=62*Math.pow(e,2);t.exists(i)&&o>n;)++n,i=r()};return o(),t.exists(i)&&(e=Math.round(e/2+e),o()),i};return i(r())},hash:function(t){if(t.id=void 0===t.id?this.makeID():t.id,this.exists(t.id))return!1;var n=this.calcIndex(t.id);return this.db[n]?(this.db[n][this.db[n].length]=t,t):(this.db[n]=[],this.db[n][this.db[n].length]=t,t)},get:function(t){var n=this.calcIndex(t);return this.hashTraverse(n,function(n){return n.id==t?n:void 0})},remove:function(t){var n=this.calcIndex(t);if(this.db[n])for(var e=0;e<this.db[n].length;++e)if(this.db[n][e])return delete this.db[n][e]},match:{where:function(t,n){for(var e in n)if("undefined"!=typeof t[e])if("function"==typeof t[e]){if(t[e](n[e])===!0)return n}else if(n[e]==t[e])return n;return!1}},traverse:function(t,n,e){var r=function(t,e){for(var i=[],o=0;o<e.length;++o)if(Array.isArray(e[o])){var d=r(t,e[o]);d.length>0&&(Array.isArray(d)&&d.length<2?i[i.length]=d[0]:i[i.length]=d)}else n(t,e[o])&&(i[i.length]=n(t,e[o]));return i},i=[],o=0,d=function(t,n,e,d){"undefined"!=typeof e[d]&&"number"!=typeof d&&(o?i.length>0&&(i=r(t,i)):i=r(t,n)),++o},a=function(t,n,e,o){if("undefined"!=typeof e[o]&&"number"!=typeof o){var d=r(t,n);if(i.length>0)for(var a=function(t,n){for(var e=0;e<n.length;++e)if(n[e]==t)return!0;return!1},s=0;s<d.length;++s)a(d[s],i)||(i[i.length]=d[s]);else i=r(t,n)}};for(var s in t){"$and"==s&&(o=0);var u={};if(u[s]=t[s],"$or"==s||"$and"==s)for(var f in u[s]){var c={};c[f]=u[s][f],"$or"==s?a(c,e,u[s],f):d(c,e,u[s],f)}else d(u,e,t,s)}return i},insert:function(t){return this.hash(t)},query:function(t){var n;for(var e in t)"undefined"!=typeof this.match[e]&&(n=void 0===n?this.traverse(t[e],this.match[e],this.db):this.traverse(t[e],this.match[e],n));return n}}},arrdb=new micronDB,sig=function(t,n){function e(t,n,i){var o=new $.Deferred,d=function(){i=i?i:"append",t="function"==typeof t?t():t,t.id=void 0===t.id?arrdb.makeID():t.id,t.parent=t.parent?t.parent:n;var d=arrdb.get(t.id);if(d?d.append=i:arrdb.hash(t),$(n)[i](r(t.type)(t)),void 0!==t.children)for(var a=0;a<t.children.length;++a)e(t.children[a],"#"+t.id);if(void 0!==t.functions)for(var a=0;a<t.functions.length;++a)t.functions[a]();o.resolve()};return d(),o.promise()}var r=function(t){var n=function(t){return["text","textbox","password","checkbox","radio","file","image","submit"].indexOf(t)>-1},e=function(e){var r="";for(var i in e){var o=i.toString();"string"==typeof e[i]&&("type"==i&&n(t)||"text"!=i)&&(r+=" "+o+'="'+e[i]+'"')}return r},r={generic:function(t){var n={start:"<"+t.type,end:t.text?">"+t.text+"</"+t.type+">":"></"+t.type+">"};return n.start+e(t)+n.end},input:function(t){var n={start:"<input",end:t.text?' value="'+t.text+'"></input>':"></input>"};return n.start+e(t)+n.end},html:function(t){return t.data}};return n(t)?r.input:r[t]?r[t]:r.generic},i={basicPropInsrt:function(t,n){t.addChild=function(t){return this.children[this.children.length]=t,this},t.addFunction=function(t){return this.functions[this.functions.length]=t,this},t.appendTo=function(t,n){var r=new $.Deferred,i="object"==typeof t?"#"+t.id:t;return this.state=e(this,i,n).done(function(){r.resolve()}),this},t.event=function(n,e){var r="#"+this.id;return $(r)[0]?e?$(r)[n](e):$(r)[n]():e?t.addFunction(function(){$(r)[n](e)}):t.addFunction(function(){$(r)[n]()}),this},t.css=function(t){var n="#"+this.id,e=$(n);if(e[0]){if(!t)return e[0].style;e.css(t)}else{if(!t)return e[0].style;this.addFunction(function(){$(n).css(t)})}return this},t.remove=function(){var t=this.id,n=document.getElementById(t);if(n){for(;n.firstChild;)n.removeChild(n.firstChild);$("#"+t).remove()}else console.log(t,"object does not exist, or has already been removed");return this},t.refresh=function(n){var e=new $.Deferred;if(t.parent.length>0){t.remove();n?n:arrdb.get(t.id).append;t.appendTo(t.parent,n).state.done(function(){e.resolve()})}else e.reject("Error: Parent of the object not defined. Was it rendered to the DOM yet?");return this.state=e,this}},propertyAdd:function(t,n){for(var e in n)t[e]=n[e];return this}};return function(){var e={type:void 0!==t?t:"div",children:[],functions:[]};return n&&i.propertyAdd(e,n),void 0===e.id&&(e.id=arrdb.makeID()),i.basicPropInsrt(e,n),e}()},toadFish={};toadFish.create2DArray=function(t){for(var n=[],e=0;t>e;++e)n[e]=[];return n},toadFish.structure=function(t,n){for(var e=$jConstruct("div",{collectionName:n}).css({clear:"left","float":"left",display:"block"}),r=0;r<t.length;++r){var i=$jConstruct("div");t[r].length?i.css({"float":"left"}):i.addChild(t[r]);for(var o=0;o<t[r].length;++o)i.addChild(t[r][o]);e.addChild(i)}return e.getCell=function(t,n){return e.children[n].children[t]},e},toadFish.drop=function(t){var n,e=sig("div",{"class":"dropdown"}).event("click",function(){n||(r.css({display:"block"}),n=1)}),r=sig("div",{"class":"dropdown-content"}).event("mouseleave",function(){n&&(r.css({display:"none"}),n=0)});return e.addOption=function(t){var n=sig("div",{text:t.name,"class":"dropdown-content-link"}).event(t.event.type,t.event.func);r.addChild(n)},e.addChild(t),e.addChild(r),e};
/*  View full license in README.md
             )
c            (
o        )   )
p        (           v1.3.1
y    .---------------------.
r    |        _____        |___      
i    |     .'`_,-._`'.      __ \
g    |    /  ( [ ] )  \    |  ||
h    |   /.-""`( )`""-.\   |  ||
t    |  ' <'```(.)```'> '  | _||
     |    <'```(.)```'>    |/ _/
2    |     <'``(.)``'>      ./
0    |      <``\_/``>      |
1    |       `'---'`       |
6    \github.com/trillobite/              
       \_________________/      Keep it black, keep it free.*/